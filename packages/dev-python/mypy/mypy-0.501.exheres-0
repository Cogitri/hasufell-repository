# Copyright 2017 Julian Ospald <hasufell@posteo.de>
# Distributed under the terms of the GNU General Public License v2

require github [ user="python" ]
require pypi
require setup-py [ import=setuptools blacklist=2 ]

SUMMARY="Optional static typing for Python"
DESCRIPTION="
Add type annotations to your Python programs, and use mypy to type
check them.  Mypy is essentially a Python linter on steroids, and it
can catch many programming errors by analyzing your program, without
actually having to run it.  Mypy has a powerful type system with
features such as type inference, gradual typing, generics and union
types.
"
HOMEPAGE="http://www.mypy-lang.org ${HOMEPAGE}"

LICENCES="MIT"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS=""

DEPENDENCIES="
    build+run:
        dev-python/typed-ast[>=1.0.0&<1.1.0]
        python_abis:3.3? ( dev-python/typing[>=3.5.3][python_abis:3.3] )
        python_abis:3.4? ( dev-python/typing[>=3.5.3][python_abis:3.4] )
"

BUGS_TO="hasufell@posteo.de"

src_install() {
    setup-py_src_install

    # misplaced and obsolete
    edo rm -r "${IMAGE}"/usr/lib
}

